(this.webpackJsonpfool=this.webpackJsonpfool||[]).push([[0],{17:function(e,t){e.exports={Validator:function(e){return e<120||!e},Updater:function(e,t){e(t)}}},28:function(e,t,a){},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(21),s=a.n(r),i=(a(28),a(4)),o=a(2),d=(a(29),a(0));var l=function(e){var t=Object(c.useState)(e.counter||120),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){if(n>0)var e=setInterval((function(){r((function(e){return e-1})),clearInterval(e)}),1e3)})),Object(d.jsxs)("h1",{children:["You have ",(n/60).toFixed(1)," minutes to win"]})},u=a(8),j=a.n(u),b=a(23),h=[];function m(e,t){e.classList.toggle(t.wrong)}var O={makeDeck:function(e){for(var t=0;t<e;t++)h.push({v:6+t,m:"p"}),h.push({v:6+t,m:"x"}),h.push({v:6+t,m:"b"}),h.push({v:6+t,m:"c"});return h.sort((function(){return.5-Math.random()}))},makeR:function(e,t,a,c){var n=e.currentTarget;n.children[0].children[0].classList.add(t.r180),n.children[0].children[1].classList.add(t.r360),a((function(e){return e+1})),c((function(e){return[].concat(Object(b.a)(e),[n])}))},checkVictory:function(e,t,a,c){if(Math.round(e[0].dataset.value)===Math.round(e[1].dataset.value))t(Math.round(e[0].dataset.value)),a((function(e){return e-2})),e[0].classList.add(c.correct),e[1].classList.add(c.correct);else{var n=e[0].children[0],r=e[1].children[0];m(n.children[1],c),m(r.children[1],c),setTimeout((function(){n.children[0].classList.remove(c.r180),n.children[1].classList.remove(c.r360),r.children[0].classList.remove(c.r180),r.children[1].classList.remove(c.r360),m(n.children[1],c),m(r.children[1],c)}),1e3)}},getMult:function(e,t){switch(t){case"p":return Math.round(1.05*e);case"x":return Math.round(1.15*e);case"b":return Math.round(1.2*e);case"c":return Math.round(1.5*e);default:return e}}};var f=function(e){return Object(d.jsx)(d.Fragment,{children:e.deck.map((function(t,a){return Object(d.jsx)("div",{className:j.a.card_cantainer,"data-value":O.getMult(t.v,t.m),onClick:function(t){O.makeR(t,j.a,e.setFlag,e.setSelected)},children:Object(d.jsxs)("div",{className:j.a.card,children:[Object(d.jsx)("div",{className:j.a.front_side,children:Object(d.jsx)("span",{children:"Maybe this one?"})}),Object(d.jsx)("div",{className:j.a.back_side,children:Object(d.jsx)("span",{children:O.getMult(t.v,t.m)})})]})},a+"d")}))})};var x=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){r(O.makeDeck(e.size||9))}),[e.size]),console.log(n),Object(d.jsx)("div",{className:j.a.GamePlace,children:Object(d.jsx)(f,{deck:n,setFlag:e.setFlag,setSelected:e.setSelected})})},v=a(9),p=a.n(v);var _=function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),u=o[0],b=o[1],h=Object(c.useState)(0),m=Object(i.a)(h,2),f=m[0],v=m[1],_=Object(c.useState)(+e.state[0]||1),g=Object(i.a)(_,2),k=g[0],M=g[1],S=Object(c.useState)(!1),F=Object(i.a)(S,2),D=F[0],y=F[1];return Object(c.useEffect)((function(){2===n&&k>0&&0!==n&&(O.checkVictory(u,v,M,j.a),b([]),r(0)),0===k&&y(!0)}),[n,k,u]),Object(d.jsxs)("main",{className:e.DarkMode?p.a.Container+" DarkMode":p.a.Container,children:[Object(d.jsx)(d.Fragment,{children:D&&Object(d.jsx)("aside",{className:j.a.tip,children:Object(d.jsxs)("h3",{children:["Game is over. Total score: ",f]})})}),Object(d.jsxs)("h2",{style:{textAlign:"end"},children:["Total score: ",f]}),Object(d.jsx)(l,{counter:+e.state[1]}),Object(d.jsx)(x,{size:e.state[0]/4,setFlag:r,setSelected:b})]})},g=a(14),k=a(17),M=a.n(k);var S=function(e){var t=e.isErrors,a=e.setIsErrors,n=e.setDarkMode,r=Object(c.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:p.a.FormSet,onSubmit:function(e){e.preventDefault(),l([e.target.elements.Gtype.value,e.target.elements.times.value])},children:[Object(d.jsxs)("label",{htmlFor:"times",children:[Object(d.jsx)("span",{children:"Duration of the game"}),Object(d.jsx)("input",{id:"times",type:"number",onBlur:function(e){return M.a.Updater(a,M.a.Validator(e.target.value))}}),t&&Object(d.jsx)("span",{className:p.a.Error,children:"Must be greater than 120"})]}),Object(d.jsxs)("label",{htmlFor:"Gtype",children:[Object(d.jsx)("span",{children:"Game type"}),Object(d.jsx)("select",{name:"gameStyle",id:"Gtype",defaultValue:"36",children:Object(d.jsxs)("optgroup",{children:[Object(d.jsx)("option",{disabled:!0,children:"Number of cards in the deck"}),Object(d.jsx)("option",{value:"52",children:"52 cards"}),Object(d.jsx)("option",{value:"36",children:"36 cards"}),Object(d.jsx)("option",{value:"32",children:"32 cards"})]})})]}),Object(d.jsxs)("label",{htmlFor:"gameMode",className:p.a.gameMode,children:[Object(d.jsx)("input",{type:"radio",value:"true",name:"mode",onClick:function(){n(!0)}}),Object(d.jsx)("span",{children:"Dark Mode"})]}),Object(d.jsxs)("label",{htmlFor:"gameMode",className:p.a.gameMode,children:[Object(d.jsx)("input",{type:"radio",value:"false",name:"mode",onClick:function(){n(!1)}}),Object(d.jsx)("span",{children:"Light Mode"})]}),Object(d.jsx)("button",{type:"submit",children:"Play"})]}),Object(d.jsx)(g.b,{to:{pathname:"/game",state:o},children:"Start game"})]})};var F=function(e){var t=e.DarkMode,a=e.setDarkMode,n=Object(c.useState)(!1),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(d.jsxs)("main",{className:t?p.a.Container+" DarkMode":p.a.Container,children:[Object(d.jsx)("h1",{children:"Select game settings"}),Object(d.jsx)(S,{isErrors:s,setIsErrors:o,setDarkMode:a})]})};var D=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(o.a,{exact:!0,path:"/",render:function(){return Object(d.jsx)(F,{DarkMode:a,setDarkMode:n})}}),Object(d.jsx)(o.a,{exact:!0,path:"/game",render:function(e){return Object(d.jsx)(_,{DarkMode:a,state:e.location.state})}})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g.a,{children:Object(d.jsx)(D,{})})}),document.getElementById("root")),y()},8:function(e,t,a){e.exports={GamePlace:"deck_GamePlace__Rdb_4",card_cantainer:"deck_card_cantainer__22Px1",card:"deck_card__u0DJS",front_side:"deck_front_side__2Ihh6",back_side:"deck_back_side__3ZFs2",r180:"deck_r180__EK5SO",r360:"deck_r360__3nbdg",wrong:"deck_wrong__28YBM",correct:"deck_correct__16bIk",tip:"deck_tip__3aJMb"}},9:function(e,t,a){e.exports={Container:"mainPage_Container__16yOo",FormSet:"mainPage_FormSet__3CgSr",gameMode:"mainPage_gameMode__2dE75"}}},[[36,1,2]]]);
//# sourceMappingURL=main.d79933a2.chunk.js.map